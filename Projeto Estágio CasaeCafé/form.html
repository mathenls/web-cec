<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Using CasaeCafe REST Service for internship group dynamics">
    <meta name="author" content="Matheus Eduardo">

    <title>Estágio 2017 Casa e Café</title>

    <!-- Custom styles for this page -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="./css/theme.css">
    <style type="text/css"></style>
    
  </head>
<body>
<div class="header" style="margin-bottom: 30px">
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation" style="background-color: #26A69A">
                  <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">
                    <img src="./img/casaecafe.png" alt="">
                </a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>
                        <a href="index.HTML"><span class="glyphicon glyphicon-search" aria-hidden="true"></span>   CONSULTAR</a>
                    </li>
                    <li>
                        <a href="#"><span class="glyphicon glyphicon-file" aria-hidden="true"></span>   CRIAR OPORTUNIDADES</a>
                    </li>
                </ul>
            </div>
           </nav> 
     </div>  

<div class="container" style="margin-top: 100px">
<form class="well form-horizontal" action=" " id="opportunity_form">
<fieldset>

<!-- Form Name -->
<legend>Dados do Contratate</legend>

<div class="form-group">
  <label class="col-md-4 control-label">ID*</label>  
  <div class="col-md-4 inputGroupContainer">
  <div class="input-group">
  <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
  <input  name="hirer[id]:number" class="form-control"  type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label" >Nome*</label> 
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
      <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
      <input required name="hirer[name]" class="form-control"  type="text">
    </div>
  </div>
</div>

 <div class="form-group">
                        <label class="col-md-4 control-label">Tipo de Conta</label>
                        <div class="col-md-4">
                            <div class="radio">
                                <label>
                                    <input required type="radio" name="hirer[account_type]" value="pf" /> Pessoa Física
                                </label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input type="radio" name="hirer[account_type]" value="pj" /> Pessoa Jurídica
                                </label>
                            </div>
                        </div>
                    </div>

<div class="form-group">
  <label class="col-md-4 control-label">E-Mail*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
        <input required name="hirer[email]" placeholder="E-Mail" class="form-control"  type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">CNPJ</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-file"></i></span>
        <input name="hirer[cnpj]:number"  class="form-control"  type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label" >Nome do representante</label> 
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
      <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
      <input name="hirer[company_contact_name]" placeholder="Nome do Representante da Empresa" class="form-control"  type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Telefone*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
        <input required name="hirer[phone]" placeholder="(12)1234-5678" class="form-control" type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Celular</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-earphone"></i></span>
        <input name="hirer[mobile_phone]" placeholder="(12)12345-6789" class="form-control" type="text">
    </div>
  </div>
</div>

 <div class="form-group">
                        <label class="col-md-4 control-label">Conta ativa?*</label>
                        <div class="col-md-4">
                            <div class="radio">
                                <label>
                                    <input required type="radio" name="hirer[is_plan_active]:boolean" value= "true" /> Sim
                                </label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input type="radio" name="hirer[is_plan_active]:boolean" value= "false" /> Não
                                </label>
                            </div>
                        </div>
                    </div>


<legend> Dados da Oportunidade </legend>
<p> *Dados obrigatórios </p>

<div class="form-group">
  <label class="col-md-4 control-label">ID da oportunidade*</label>  
  <div class="col-md-4 inputGroupContainer">
  <div class="input-group">
  <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
  <input required name="id:number" class="form-control" type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Título*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-file"></i></span>
        <input required name="title" class="form-control" type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Descrição</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
          <textarea required class="form-control" name="description" placeholder="Descrição da oportunidade"></textarea>
  </div>
  </div>
</div>

 <div class="form-group">
                        <label class="col-md-4 control-label">Oportunidade ativa?</label>
                        <div class="col-md-4">
                            <div class="radio">
                                <label>
                                    <input required type="radio" name="is_active:boolean" value="true" /> Sim
                                </label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input type="radio" name="is_active:boolean" value= "false" /> Não
                                </label>
                            </div>
                        </div>
                    </div>

<div class="form-group">
                        <label class="col-md-4 control-label">Contato disponível?</label>
                        <div class="col-md-4">
                            <div class="radio">
                                <label>
                                    <input required type="radio" name="is_contact_available:boolean" value= "true" /> Sim
                                </label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input type="radio" name="is_contact_available:boolean" value= "false" /> Não
                                </label>
                            </div>
                        </div>
</div>
 
<div class="form-group"> 
  <label class="col-md-4 control-label">Estado*</label>
    <div class="col-md-4 selectContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-list"></i></span>
    <select name="location[state]" class="form-control selectpicker" >
      <option value=" ">Selecione seu estado</option>
      <option>AC</option>
      <option>AL</option>
      <option>AP</option>
      <option>AM</option>
      <option>BA</option>
      <option>CE</option>
      <option>DF</option>
      <option>ES</option>
      <option>GO</option>
      <option>MA</option>
      <option>MT</option>
      <option>MS</option>
      <option>MG</option>
      <option>PA</option>
      <option>PB</option>
      <option>PR</option>
      <option>PE</option>
      <option>PI</option>
      <option>RJ</option>
      <option>RN</option>
      <option>RS</option>
      <option>RO</option>
      <option>RR</option>
      <option>SP</option>
      <option>SC</option>
      <option>SE</option>
      <option>TO</option>
    </select>
  </div>
</div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Cidade*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
  <input required name="location[city]" class="form-control"  type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">CEP*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input required name="location[zipcode]" class="form-control"  type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Tipo Endereço*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input required name="location[address_type]" placeholder="Rua, Av, Alameda, Logradouro, Travessa..." class="form-control"  type="text">
    </div>
  </div>
  </div>



<div class="form-group">
  <label class="col-md-4 control-label">Endereço*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input name="location[address]" class="form-control"  type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Bairro*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input required name="location[neighborhood]" class="form-control"  type="text">
    </div>
  </div>
</div>


<div class="form-group">
  <label class="col-md-4 control-label">Latitude*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-map-marker"></i></span>
     <input required name="location[latitude]:number" class="form-control"  type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Longitude*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-map-marker"></i></span>
     <input required name="location[longitude]:number" class="form-control"  type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Id da Cidade*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input required name="location[city_id]" class="form-control"  type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Frequência*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input required name="frequency" class="form-control"  type="text">
    </div>
  </div>
</div>


<div class="form-group">
                        <label class="col-md-4 control-label">É automático?*</label>
                        <div class="col-md-4">
                            <div class="radio">
                                <label>
                                    <input required type="radio" name="is_automatic:boolean" value= "true" /> Sim
                                </label>
                            </div>
                            <div class="radio">
                                <label>
                                    <input type="radio" name="is_automatic:boolean" value= "false" /> Não
                                </label>
                            </div>
                        </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Nota</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input name="score:number" class="form-control"  type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">ID da Categoria*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input required name="category[id]:number" class="form-control" type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Categoria*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input required name="category[name]" placeholder="Nome da Categoria" class="form-control" type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Requisição Salarial*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input required name="salary_requirements" class="form-control" type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Começa*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input requied name="starts" class="form-control" type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Número de Candidatos*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input required name="amount_candidates:number" class="form-control" type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Número de Visualizações*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input required name="amount_visualizations:number" class="form-control" type="text">
    </div>
  </div>
</div>


<div class="form-group">
  <label class="col-md-4 control-label">Feedback</label>
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-pencil"></i></span>
          <textarea class="form-control" name="O que achou da oportunidade?" placeholder="Feedback sobre a oportunidade"></textarea>
  </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Pretensão Salarial*</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input required name="salary_research" class="form-control" type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Caracteristicas</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input name="characteristics[]" class="form-control" type="text" value=" ">
    </div>
  </div>
</div>

<div class="form-group">
  <label class="col-md-4 control-label">Relevancia</label>  
    <div class="col-md-4 inputGroupContainer">
    <div class="input-group">
        <span class="input-group-addon"><i class="glyphicon glyphicon-home"></i></span>
     <input name="relevancy" class="form-control" type="text">
    </div>
  </div>
</div>  

<div class="form-group">
  <label class="col-md-4 control-label"></label>
  <div class="col-md-4">
    <button id="submitForm" class="btn btn-warning" >Send<span class="glyphicon glyphicon-send"></span></button>
  </div>
</div>

</fieldset>
</form>
</div>
</div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    
    <script src="./js/jquery.min.js"></script>    
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/searchRest.js"></script>
    <script src="./js/serializeJson.js"></script>

<script type="text/javascript">

  $("#submitForm").click(function(event)
  {

    var emptyStringsAndZerosToNulls = function(val, inputName) {
      if (val === "") return null; // parse empty strings as nulls
      if (val === 0)  return null; // parse 0 as null
      return val;
  }

    var obj = $("#opportunity_form").serializeJSON({parseWithFunction: emptyStringsAndZerosToNulls, parseNumbers: true});

    var jsonString = JSON.stringify(obj);

    console.log(jsonString);

      var settings = {
      "async": false,
      "crossDomain": true,
      "url": "http://ec2-35-164-223-211.us-west-2.compute.amazonaws.com/opportunities",
      "method": "POST",
      "headers": {
        "content-type": "application/json",
        "cache-control": "no-cache",
      },
      "processData": false,
      "data": jsonString
}

$.ajax(settings).done(function (response) {
  alert("Oportunidade criada!");
});
});

</script>


</body>
</html>
